import{_ as Y}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as n,a as A,o as r,c,b as i,t as L,F as E,i as N,e as s,w as o,d as V,n as B,f as y,p as j,g as q}from"./index.344ab313.js";const z=x=>(j("data-v-2095e225"),x=x(),q(),x),H={class:"can"},J={key:0,class:"content"},K={class:"snake-grassland"},O=z(()=>i("img",{alt:"",src:"https://cdn.staticaly.com/gh/ottocsb/image-upload@master/\u82F9\u679C.2i4srrsw3zc0.webp",style:{width:"16px",height:"16px"}},null,-1)),P=[O],Q={key:0,class:"fail"},W=z(()=>i("div",{class:"fail-title"},"\u6E38\u620F\u7ED3\u675F!",-1)),Z={class:"total-score"},ee={style:{"margin-top":"20px"}},le={key:0},ae={key:1},te={__name:"snake",setup(x){let h=n(0),m=n(!0),w=n(!0),g=n(!1),d=n([]),a=n(3),p=n(null),u=n([{x:0,y:0},{x:1,y:0},{x:2,y:0}]),b=n(1),C=n(1);const I=t=>{const l=[];for(let e=0;e<t;e++){const f=Math.floor(Math.random()*50),k=Math.floor(Math.random()*50);l.push({x:f,y:k})}return l};d.value=I(3),window.addEventListener("keyup",t=>{switch(t.key){case"ArrowUp":a.value=0,_();break;case"ArrowDown":a.value=1,_();break;case"ArrowLeft":a.value=2,_();break;case"ArrowRight":a.value=3,_();break}});const D=()=>{g.value=!1,u.value=[{x:0,y:0},{x:1,y:0},{x:2,y:0}],d.value=I(3),a.value=3,h.value=0,p.value=setInterval(()=>{_()},200)},G=()=>{g.value=!1,m.value=!m.value,w.value=!w.value,h.value=0,clearInterval(p.value),p.value=null},R=()=>{let t=u.value[u.value.length-1],l=!1;d.value=d.value.filter(e=>t.x===e.x&&t.y===e.y?(l=!0,T(),h.value+=10,!1):!0),l&&d.value.push(...I(1))},T=()=>{let t=u.value[0];b.value=0,C.value=0,a.value===0?C.value=-1:a.value===1?C.value=1:a.value===2?b.value=-1:a.value===3&&(b.value=1),u.value.unshift({x:t.x-b.value,y:t.y-C.value})},U=()=>{console.log("\u5F00\u59CB\u6E38\u620F"),w.value=!0,m.value=!1,u.value=[{x:0,y:0},{x:1,y:0},{x:2,y:0}],d.value=I(3),a.value=3,p.value=setInterval(()=>{_()},200)},F=(t,l)=>({left:t*16+"px",top:l*16+"px"}),S=(t,l)=>{let e=u.value[u.value.length-1];a.value==2&&e.x<=0||a.value==0&&e.y<=0||a.value==3&&e.x>=49||a.value==1&&e.y>=49?(clearInterval(p.value),p.value=null,X()):(u.value.push({x:e.x+t,y:e.y+l}),u.value.shift())},X=()=>{g.value=!0},$=t=>{a.value=t,_()},_=()=>{switch(a.value){case 0:S(0,-1);break;case 1:S(0,1);break;case 2:S(-1,0);break;case 3:S(1,0);break}R()};return(t,l)=>{const e=A("el-button"),f=A("el-col"),k=A("el-row");return r(),c(E,null,[i("div",null,"\u5F97\u5206\uFF1A"+L(h.value),1),i("div",H,[w.value?(r(),c("div",J,[i("div",K,[(r(!0),c(E,null,N(u.value,(v,M)=>(r(),c("div",{key:`snake${M}`,style:B(F(v.x,v.y)),class:"snake"},null,4))),128)),(r(!0),c(E,null,N(d.value,(v,M)=>(r(),c("div",{key:`food${M}`,style:B(F(v.x,v.y)),class:"food"},P,4))),128))]),g.value?(r(),c("div",Q,[W,i("div",Z,"score:"+L(h.value),1),s(e,{type:"danger",onClick:D},{default:o(()=>[y("\u91CD\u65B0\u5F00\u59CB")]),_:1}),s(e,{type:"danger",onClick:G},{default:o(()=>[y("\u9000\u51FA\u6E38\u620F")]),_:1})])):V("",!0)])):V("",!0)]),i("div",ee,[m.value?(r(),c("div",le,[i("button",{onClick:U},"\u5F00\u59CB\u6E38\u620F")])):(r(),c("div",ae,[s(k,null,{default:o(()=>[s(f,{push:9,span:6},{default:o(()=>[s(e,{onClick:l[0]||(l[0]=v=>$(0))},{default:o(()=>[y("\u4E0A")]),_:1})]),_:1})]),_:1}),s(k,null,{default:o(()=>[s(f,{push:3,span:12},{default:o(()=>[s(e,{onClick:l[1]||(l[1]=v=>$(2))},{default:o(()=>[y("\u5DE6")]),_:1})]),_:1}),s(f,{pull:3,span:12},{default:o(()=>[s(e,{onClick:l[2]||(l[2]=v=>$(3))},{default:o(()=>[y("\u53F3")]),_:1})]),_:1})]),_:1}),s(k,null,{default:o(()=>[s(f,{push:9,span:6},{default:o(()=>[s(e,{onClick:l[3]||(l[3]=v=>$(1))},{default:o(()=>[y("\u4E0B")]),_:1})]),_:1})]),_:1})]))])],64)}}},ue=Y(te,[["__scopeId","data-v-2095e225"]]);export{ue as default};
