import{_ as Y}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as n,a as M,o as v,c,b as i,t as F,F as A,i as N,e as s,w as o,d as V,n as B,f as y,p as j,g as q}from"./index.03f38caf.js";const H=""+new URL("\u82F9\u679C.37e8c8f0.png",import.meta.url).href;const D=x=>(j("data-v-069473c9"),x=x(),q(),x),J={class:"can"},K={key:0,class:"content"},O={class:"snake-grassland"},P=D(()=>i("img",{alt:"",src:H,style:{width:"16px",height:"16px"}},null,-1)),Q=[P],W={key:0,class:"fail"},Z=D(()=>i("div",{class:"fail-title"},"\u6E38\u620F\u7ED3\u675F!",-1)),ee={class:"total-score"},le={style:{"margin-top":"20px"}},ae={key:0},te={key:1},se={__name:"snake",setup(x){let h=n(0),m=n(!0),w=n(!0),g=n(!1),d=n([]),a=n(3),f=n(null),u=n([{x:0,y:0},{x:1,y:0},{x:2,y:0}]),b=n(1),C=n(1);const I=t=>{const l=[];for(let e=0;e<t;e++){const p=Math.floor(Math.random()*50),k=Math.floor(Math.random()*50);l.push({x:p,y:k})}return l};d.value=I(3),window.addEventListener("keyup",t=>{switch(t.key){case"ArrowUp":a.value=0,_();break;case"ArrowDown":a.value=1,_();break;case"ArrowLeft":a.value=2,_();break;case"ArrowRight":a.value=3,_();break}});const G=()=>{g.value=!1,u.value=[{x:0,y:0},{x:1,y:0},{x:2,y:0}],d.value=I(3),a.value=3,h.value=0,f.value=setInterval(()=>{_()},200)},R=()=>{g.value=!1,m.value=!m.value,w.value=!w.value,h.value=0,clearInterval(f.value),f.value=null},U=()=>{let t=u.value[u.value.length-1],l=!1;d.value=d.value.filter(e=>t.x===e.x&&t.y===e.y?(l=!0,z(),h.value+=10,!1):!0),l&&d.value.push(...I(1))},z=()=>{let t=u.value[0];b.value=0,C.value=0,a.value===0?C.value=-1:a.value===1?C.value=1:a.value===2?b.value=-1:a.value===3&&(b.value=1),u.value.unshift({x:t.x-b.value,y:t.y-C.value})},T=()=>{console.log("\u5F00\u59CB\u6E38\u620F"),w.value=!0,m.value=!1,u.value=[{x:0,y:0},{x:1,y:0},{x:2,y:0}],d.value=I(3),a.value=3,f.value=setInterval(()=>{_()},200)},E=(t,l)=>({left:t*16+"px",top:l*16+"px"}),S=(t,l)=>{let e=u.value[u.value.length-1];a.value==2&&e.x<=0||a.value==0&&e.y<=0||a.value==3&&e.x>=49||a.value==1&&e.y>=49?(clearInterval(f.value),f.value=null,X()):(u.value.push({x:e.x+t,y:e.y+l}),u.value.shift())},X=()=>{g.value=!0},$=t=>{a.value=t,_()},_=()=>{switch(a.value){case 0:S(0,-1);break;case 1:S(0,1);break;case 2:S(-1,0);break;case 3:S(1,0);break}U()};return(t,l)=>{const e=M("el-button"),p=M("el-col"),k=M("el-row");return v(),c(A,null,[i("div",null,"\u5F97\u5206\uFF1A"+F(h.value),1),i("div",J,[w.value?(v(),c("div",K,[i("div",O,[(v(!0),c(A,null,N(u.value,(r,L)=>(v(),c("div",{key:`snake${L}`,style:B(E(r.x,r.y)),class:"snake"},null,4))),128)),(v(!0),c(A,null,N(d.value,(r,L)=>(v(),c("div",{key:`food${L}`,style:B(E(r.x,r.y)),class:"food"},Q,4))),128))]),g.value?(v(),c("div",W,[Z,i("div",ee,"score:"+F(h.value),1),s(e,{type:"danger",onClick:G},{default:o(()=>[y("\u91CD\u65B0\u5F00\u59CB")]),_:1}),s(e,{type:"danger",onClick:R},{default:o(()=>[y("\u9000\u51FA\u6E38\u620F")]),_:1})])):V("",!0)])):V("",!0)]),i("div",le,[m.value?(v(),c("div",ae,[i("button",{onClick:T},"\u5F00\u59CB\u6E38\u620F")])):(v(),c("div",te,[s(k,null,{default:o(()=>[s(p,{push:9,span:6},{default:o(()=>[s(e,{onClick:l[0]||(l[0]=r=>$(0))},{default:o(()=>[y("\u4E0A")]),_:1})]),_:1})]),_:1}),s(k,null,{default:o(()=>[s(p,{push:3,span:12},{default:o(()=>[s(e,{onClick:l[1]||(l[1]=r=>$(2))},{default:o(()=>[y("\u5DE6")]),_:1})]),_:1}),s(p,{pull:3,span:12},{default:o(()=>[s(e,{onClick:l[2]||(l[2]=r=>$(3))},{default:o(()=>[y("\u53F3")]),_:1})]),_:1})]),_:1}),s(k,null,{default:o(()=>[s(p,{push:9,span:6},{default:o(()=>[s(e,{onClick:l[3]||(l[3]=r=>$(1))},{default:o(()=>[y("\u4E0B")]),_:1})]),_:1})]),_:1})]))])],64)}}},ne=Y(se,[["__scopeId","data-v-069473c9"]]);export{ne as default};
